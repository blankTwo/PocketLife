<!-- ä¸»é¡µé¢ - UI/UX-Pro-Max é‡æ„ -->
<view class="page-container">
  <!-- é¡¶éƒ¨ä¿¡æ¯å¡ç‰‡ -->
  <view class="header-card slide-in-up">
    <view class="pet-avatar-ring">
      <view class="pet-avatar-inner">
        <text class="pet-emoji">ğŸ£</text>
      </view>
    </view>
    <view class="pet-info">
      <text class="pet-name">{{pet.name}}</text>
      <view class="pet-stage-badge">
        <text class="pet-stage-text">{{stageText}}</text>
      </view>
    </view>
  </view>

  <!-- å® ç‰©å±•ç¤ºåŒºåŸŸ -->
  <view class="pet-display-card slide-in-up">
    <view class="canvas-container">
      <pet-canvas
        stage="{{pet.stage}}"
        mood="{{pet.mood}}"
        hunger="{{pet.hunger}}"
        energy="{{pet.energy}}"
        action="{{currentAction}}"
        dead="{{pet.dead}}"
      />
    </view>
    <!-- è£…é¥°å…ƒç´  -->
    <view class="decoration-dots">
      <view class="dot dot-1"></view>
      <view class="dot dot-2"></view>
      <view class="dot dot-3"></view>
    </view>
  </view>

  <!-- çŠ¶æ€é¢æ¿å¡ç‰‡ -->
  <view class="status-card slide-in-up">
    <view class="status-card-header">
      <text class="status-card-title">å® ç‰©çŠ¶æ€</text>
    </view>
    
    <view class="status-list">
      <!-- é¥¥é¥¿åº¦ -->
      <view class="status-row">
        <view class="status-icon-wrapper hunger-icon">
          <text class="status-icon">ğŸ–</text>
        </view>
        <view class="status-content">
          <view class="status-header">
            <text class="status-label">é¥¥é¥¿åº¦</text>
            <text class="status-value {{hungerLevel}}">{{pet.hunger}}%</text>
          </view>
          <view class="status-track">
            <view class="status-fill {{hungerLevel}}" style="width: {{pet.hunger}}%"></view>
          </view>
        </view>
      </view>

      <!-- å¿ƒæƒ…å€¼ -->
      <view class="status-row">
        <view class="status-icon-wrapper mood-icon">
          <text class="status-icon">ğŸ’–</text>
        </view>
        <view class="status-content">
          <view class="status-header">
            <text class="status-label">å¿ƒæƒ…å€¼</text>
            <text class="status-value {{moodLevel}}">{{pet.mood}}%</text>
          </view>
          <view class="status-track">
            <view class="status-fill {{moodLevel}}" style="width: {{pet.mood}}%"></view>
          </view>
        </view>
      </view>

      <!-- ç²¾åŠ›å€¼ -->
      <view class="status-row">
        <view class="status-icon-wrapper energy-icon">
          <text class="status-icon">âš¡</text>
        </view>
        <view class="status-content">
          <view class="status-header">
            <text class="status-label">ç²¾åŠ›å€¼</text>
            <text class="status-value {{energyLevel}}">{{pet.energy}}%</text>
          </view>
          <view class="status-track">
            <view class="status-fill {{energyLevel}}" style="width: {{pet.energy}}%"></view>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- æ“ä½œæŒ‰é’®åŒºåŸŸ -->
  <view class="action-panel slide-in-up" wx:if="{{!pet.dead}}">
    <view class="action-btn-wrapper">
      <button
        class="action-btn feed-btn {{cooldown ? 'btn-disabled' : ''}}"
        disabled="{{cooldown || loading}}"
        bindtap="handleFeed"
      >
        <text class="btn-icon">ğŸ–</text>
        <text class="btn-text">å–‚é£Ÿ</text>
      </button>
    </view>

    <view class="action-btn-wrapper">
      <button
        class="action-btn play-btn {{cooldown ? 'btn-disabled' : ''}}"
        disabled="{{cooldown || loading}}"
        bindtap="handlePlay"
      >
        <text class="btn-icon">ğŸ®</text>
        <text class="btn-text">ç©è€</text>
      </button>
    </view>

    <view class="action-btn-wrapper">
      <button
        class="action-btn sleep-btn {{cooldown ? 'btn-disabled' : ''}}"
        disabled="{{cooldown || loading}}"
        bindtap="handleSleep"
      >
        <text class="btn-icon">ğŸ’¤</text>
        <text class="btn-text">ç¡è§‰</text>
      </button>
    </view>
  </view>

  <!-- æ­»äº¡çŠ¶æ€é¢æ¿ -->
  <view class="dead-panel fade-in" wx:if="{{pet.dead}}">
    <view class="dead-card">
      <text class="dead-emoji">ğŸ˜¢</text>
      <text class="dead-title">å® ç‰©ç¦»å¼€äº†</text>
      <text class="dead-desc">ä½ çš„å°ä¼™ä¼´å·²ç»å»äº†æ›´å¥½çš„åœ°æ–¹...</text>
      <button class="reborn-btn" bindtap="handleReborn">
        <text class="btn-icon">ğŸŒŸ</text>
        <text class="btn-text">é‡æ–°å¼€å§‹</text>
      </button>
    </view>
  </view>

  <!-- åŠ è½½é®ç½© -->
  <view class="loading-overlay" wx:if="{{loading}}">
    <view class="loading-card">
      <view class="loading-spinner"></view>
      <text class="loading-text">åŠ è½½ä¸­...</text>
    </view>
  </view>
</view>
